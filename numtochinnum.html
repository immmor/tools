<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>immmor Capital | 数字转中文大写</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            background: radial-gradient(circle at top right, #1e293b, #0f172a, #000000);
            min-height: 100vh;
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .glass {
            background: rgba(255, 255, 255, 0.03);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .gradient-text {
            background: linear-gradient(90deg, #60a5fa, #f472b6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
        }
    </style>
</head>
<body class="p-4">

    <main class="max-w-xl w-full">
        <div class="glass p-8 rounded-[2rem] shadow-2xl relative overflow-hidden">
            <div class="absolute -top-10 -right-10 w-32 h-32 bg-blue-500/10 rounded-full blur-3xl"></div>

            <header class="mb-8 text-center">
                <h1 class="text-2xl font-bold tracking-tighter gradient-text">immmor.CAPITAL</h1>
                <p class="text-gray-500 text-[10px] uppercase tracking-widest mt-1">财务专用数字转大写工具</p>
            </header>

            <div class="space-y-6">
                <div class="relative">
                    <label class="block text-gray-500 text-xs mb-2 ml-1 uppercase">输入阿拉伯数字</label>
                    <input type="number" id="num-input" step="0.01" 
                        class="w-full bg-white/5 border border-white/10 rounded-2xl px-6 py-4 text-2xl font-mono outline-none focus:border-blue-500/50 transition shadow-inner"
                        placeholder="0.00">
                    <span class="absolute right-6 bottom-4 text-gray-600 font-bold">¥</span>
                </div>

                <div class="bg-black/20 rounded-2xl p-6 border border-white/5 min-h-[120px] flex flex-col justify-center relative group">
                    <label class="text-gray-500 text-[10px] uppercase mb-2">人民币大写结果</label>
                    <div id="chinese-output" class="text-xl font-medium leading-relaxed text-gray-200 break-all">
                        零元整
                    </div>
                    <button onclick="copyResult()" class="absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition text-[10px] bg-white/10 px-2 py-1 rounded hover:bg-white/20">复制</button>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <button onclick="clearInput()" class="py-3 rounded-xl bg-white/5 text-xs hover:bg-white/10 transition">清空</button>
                    <button onclick="copyResult()" class="py-3 rounded-xl bg-blue-600 text-xs font-bold hover:bg-blue-500 transition shadow-lg">复制结果</button>
                </div>
            </div>
        </div>

        <footer class="mt-8 text-center text-[10px] text-gray-600 tracking-widest">
            符合中国人民银行规定的标准大写格式
        </footer>
    </main>

    <script>
        const input = document.getElementById('num-input');
        const output = document.getElementById('chinese-output');

        input.addEventListener('input', () => {
            const val = input.value;
            if (val === '') {
                output.innerText = "零元整";
                return;
            }
            output.innerText = numberToChinese(val);
        });

        function numberToChinese(n) {
            let fraction = ['角', '分'];
            let digit = ['零', '壹', '贰', '叁', '肆', '伍', '陆', '柒', '捌', '玖'];
            let unit = [
                ['元', '万', '亿'],
                ['', '拾', '佰', '仟']
            ];
            
            let s = '';
            // 处理小数部分
            let parts = n.split('.');
            let dec = parts[1] ? parts[1].substr(0, 2) : '';
            for (let i = 0; i < dec.length; i++) {
                s += (digit[dec.charAt(i)] + fraction[i]).replace(/零./, '');
            }
            s = s || '整';

            // 处理整数部分
            let integer = Math.floor(Math.abs(n));
            for (let i = 0; i < unit[0].length && integer > 0; i++) {
                let p = '';
                for (let j = 0; j < unit[1].length && integer > 0; j++) {
                    p = digit[integer % 10] + unit[1][j] + p;
                    integer = Math.floor(integer / 10);
                }
                s = p.replace(/(零.)*零$/, '').replace(/^$/, '零') + unit[0][i] + s;
            }

            return s.replace(/(零.)*零元/, '元')
                    .replace(/(零.)+/g, '零')
                    .replace(/^整$/, '零元整')
                    .replace(/^元/, '零元');
        }

        function copyResult() {
            const text = output.innerText;
            navigator.clipboard.writeText(text).then(() => {
                const originalText = output.innerText;
                output.innerText = "已复制到剪贴板！";
                output.style.color = "#60a5fa";
                setTimeout(() => {
                    output.innerText = originalText;
                    output.style.color = "";
                }, 1000);
            });
        }

        function clearInput() {
            input.value = '';
            output.innerText = "零元整";
        }
    </script>
</body>
</html>