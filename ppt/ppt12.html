<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>immmor code: 深度功能解析</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/theme/white.min.css">
    <style>
        :root {
            --swiss-red: #E62117;
            --swiss-blue: #005696;
            --swiss-black: #1A1A1A;
        }
        #three-canvas { position: fixed; top: 0; left: 0; z-index: 0; pointer-events: none; }
        .reveal { z-index: 1; }
        
        /* 瑞士排版风格 */
        .swiss-card {
            background: white !important;
            border-top: 10px solid var(--swiss-black) !important;
            box-shadow: 20px 20px 0px var(--swiss-red) !important;
            padding: 40px !important;
            text-align: left !important;
        }
        
        .reveal h2 {
            font-family: "Helvetica Neue", Helvetica, Arial, sans-serif !important;
            font-weight: 900 !important;
            text-transform: uppercase !important;
            letter-spacing: -2px !important;
            line-height: 0.8 !important;
            margin-bottom: 30px !important;
        }

        .tag-pill {
            display: inline-block;
            padding: 5px 12px;
            background: var(--swiss-black);
            color: white;
            font-size: 0.4em;
            margin-right: 5px;
            font-weight: bold;
        }

        .reveal .fragment.grow-in { transform: scale(0.5); opacity: 0; transition: all 0.5s ease; }
        .reveal .fragment.grow-in.visible { transform: scale(1); opacity: 1; }
    </style>
</head>
<body>

    <canvas id="three-canvas"></canvas>

    <div class="reveal">
        <div class="slides">

            <section data-background-color="#f0f0f0">
                <div class="swiss-card">
                    <h2>IMMMOR<br><span style="color: var(--swiss-red);">CODE</span><br>SYSTEM</h2>
                    <p>版本 2.0：高性能 Web 编程矩阵</p>
                    <p><small>DEEP DIVE INTO CORE FEATURES</small></p>
                </div>
            </section>

            <section>
                <span class="tag-pill">UI ARCHITECTURE</span>
                <h2>并行开发：<br>多页签管理</h2>
                <div class="swiss-card fragment grow-in">
                    <p>源码中的 <code>openedTabs</code> 逻辑支持：</p>
                    <ul>
                        <li><strong>状态同步：</strong> 实时通过 <code>localStorage</code> 记录当前活跃页签。</li>
                        <li><strong>丝滑切换：</strong> 基于 Monaco Instance 的动态挂载，切换延迟 < 16ms。</li>
                        <li><strong>自动恢复：</strong> 重新打开浏览器时，自动还原上次的开发场景。</li>
                    </ul>
                </div>
            </section>

            <section>
                <span class="tag-pill">AI ENGINE</span>
                <h2>AI 指令矩阵</h2>
                <p>不仅仅是对话，而是深度集成到编辑器右键菜单：</p>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 20px;">
                    <div class="swiss-card fragment" style="border-top-color: var(--swiss-blue) !important;">
                        <h4>代码重构</h4>
                        <p><small>一键清理冗余逻辑，优化算法复杂度。</small></p>
                    </div>
                    <div class="swiss-card fragment" style="border-top-color: var(--swiss-red) !important;">
                        <h4>解释代码</h4>
                        <p><small>选中复杂逻辑，AI 自动生成分步注释。</small></p>
                    </div>
                </div>
                <p class="fragment"><small>支持：GPT-4 / DeepSeek / Claude 多 Provider 动态无缝切换。</small></p>
            </section>

            <section>
                <span class="tag-pill">FILE SYSTEM</span>
                <h2>工程化处理</h2>
                <div class="swiss-card">
                    <p>基于 <code>JSZip</code> 的资产管理：</p>
                    <div class="fragment" style="border-bottom: 2px solid #eee; padding: 10px 0;">
                        <strong>● 递归打包：</strong> 支持将整个虚拟 IndexedDB 目录结构完整导出。
                    </div>
                    <div class="fragment" style="border-bottom: 2px solid #eee; padding: 10px 0;">
                        <strong>● 拖放导入：</strong> 外部 ZIP 包直接拖入编辑器，瞬时完成解压与环境构建。
                    </div>
                </div>
            </section>

            <section data-transition="zoom">
                <span class="tag-pill">EXTENSIBILITY</span>
                <h2>无限扩展：<br>插件 API</h2>
                <div class="swiss-card">
                    <p>暴露 <code>immmor</code> 全局对象，支持用户：</p>
                    <ol>
                        <li>自定义右键菜单项 (Context Menu)</li>
                        <li>注入自定义 CSS 主题</li>
                        <li>劫持编辑器保存事件执行自定义逻辑</li>
                    </ol>
                    <p><small>代码库内置 <code>renderPlugins()</code>，实现了类似 VS Code 的轻量化扩展机制。</small></p>
                </div>
            </section>

            <section data-background-color="#1A1A1A">
                <h2 style="color: white !important;">START<br>BUILDING<br><span style="color: var(--swiss-red);">NOW</span></h2>
                <p style="color: #666;">高性能 / 纯前端 / 极简主义</p>
            </section>

        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.5.0/reveal.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
    <script>
        Reveal.initialize({ 
            center: true, 
            hash: true, 
            transition: 'slide',
            backgroundTransition: 'zoom' 
        });

        // Three.js 悬浮立方体群
        const scene = new THREE.Scene();
        const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
        const renderer = new THREE.WebGLRenderer({ canvas: document.getElementById('three-canvas'), antialias: true, alpha: true });
        renderer.setSize(window.innerWidth, window.innerHeight);

        const group = new THREE.Group();
        const geometries = [new THREE.BoxGeometry(0.5, 0.5, 0.5), new THREE.IcosahedronGeometry(0.4)];
        const materials = [
            new THREE.MeshBasicMaterial({ color: 0xE62117, wireframe: true }),
            new THREE.MeshBasicMaterial({ color: 0x005696, wireframe: true }),
            new THREE.MeshBasicMaterial({ color: 0x1A1A1A, wireframe: true })
        ];

        for(let i=0; i<40; i++) {
            const mesh = new THREE.Mesh(
                geometries[Math.floor(Math.random()*geometries.length)],
                materials[Math.floor(Math.random()*materials.length)]
            );
            mesh.position.set(Math.random()*16-8, Math.random()*16-8, Math.random()*10-15);
            mesh.rotation.set(Math.random()*Math.PI, Math.random()*Math.PI, 0);
            group.add(mesh);
        }
        scene.add(group);
        camera.position.z = 5;

        function animate() {
            requestAnimationFrame(animate);
            group.rotation.y += 0.002;
            group.children.forEach(child => {
                child.rotation.x += 0.01;
                child.position.y += Math.sin(Date.now()*0.001 + child.position.x)*0.005;
            });
            renderer.render(scene, camera);
        }
        animate();
    </script>
</body>
</html>