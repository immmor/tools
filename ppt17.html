<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>Immmor Code - Technical Deconstruction</title>
    <style>
        :root { --amber: #ffb000; --bg: #0a0a0a; }
        body { margin: 0; overflow: hidden; background: var(--bg); font-family: 'Fira Code', monospace; color: #eee; }
        #canvas-ui { position: absolute; top: 0; left: 0; z-index: 1; }
        
        #content-layer {
            position: relative; z-index: 10; height: 100vh;
            display: flex; align-items: center; pointer-events: none;
        }

        .slide {
            position: absolute; left: 10%; width: 40%; opacity: 0;
            transform: translateX(-50px); transition: all 0.8s cubic-bezier(0.19, 1, 0.22, 1);
        }
        .slide.active { opacity: 1; transform: translateX(0); }

        .tag { color: var(--amber); font-size: 0.8rem; letter-spacing: 3px; margin-bottom: 10px; opacity: 0.7; }
        h1 { font-size: 4.5rem; margin: 0; line-height: 0.9; color: #fff; font-weight: 900; }
        .desc { font-size: 1.1rem; line-height: 1.8; color: #aaa; margin-top: 30px; border-left: 2px solid var(--amber); padding-left: 25px; }
        
        .tech-specs { display: flex; gap: 20px; margin-top: 40px; }
        .spec-item { background: rgba(255,176,0,0.1); padding: 10px 15px; border-radius: 2px; font-size: 0.8rem; color: var(--amber); }

        .nav-hint { position: absolute; bottom: 50px; left: 10%; font-size: 0.7rem; color: #444; }
        .progress-line { position: absolute; left: 0; bottom: 0; height: 3px; background: var(--amber); transition: width 0.5s; }
    </style>
</head>
<body>

<div id="canvas-ui"></div>
<div id="content-layer">
    <div class="slide active">
        <div class="tag">01 / ARCHITECTURE</div>
        <h1>DEEP<br>EDITOR</h1>
        <p class="desc">基于工业级 Monaco 内核，Immmor Code 提供了不亚于本地 IDE 的代码编写体验。支持多标签页、代码补全与高级格式化。</p>
        <div class="tech-specs">
            <div class="spec-item">Monaco 0.47.0</div>
            <div class="spec-item">Multi-Tabs</div>
        </div>
    </div>

    <div class="slide">
        <div class="tag">02 / INTELLIGENCE</div>
        <h1>NEURAL<br>CORE</h1>
        <p class="desc">通过解耦的 Provider 架构，自由接入 OpenAI, Claude 与 DeepSeek。AI 能够读取整个文件树上下文，提供精准重构建议。</p>
        <div class="tech-specs">
            <div class="spec-item">Context-Aware</div>
            <div class="spec-item">Stream Response</div>
        </div>
    </div>

    <div class="slide">
        <div class="tag">03 / RUNTIME</div>
        <h1>WASM<br>EXEC</h1>
        <p class="desc">集成 Pyodide 运行时，在浏览器沙盒中运行 Python 逻辑。配合虚拟终端，实现代码编写到运行的即时反馈循环。</p>
        <div class="tech-specs">
            <div class="spec-item">Pyodide 0.24.1</div>
            <div class="spec-item">Web Terminal</div>
        </div>
    </div>

    <div class="slide">
        <div class="tag">04 / STORAGE</div>
        <h1>VFS<br>LAYER</h1>
        <p class="desc">自研虚拟文件系统 (VFS)，支持层级目录、拖拽管理。所有数据通过 LocalStorage 实现强持久化，刷新不丢失。</p>
        <div class="tech-specs">
            <div class="spec-item">IndexedDB/LS</div>
            <div class="spec-item">JSZip Export</div>
        </div>
    </div>

    <div class="slide">
        <div class="tag">05 / ECOSYSTEM</div>
        <h1>EXTEND<br>ABLE</h1>
        <p class="desc">插件化驱动架构，支持动态加载 JS 功能模块。右键上下文菜单（Context Menu）深度集成 AI 指令与系统操作。</p>
        <div class="tech-specs">
            <div class="spec-item">Dynamic Plugins</div>
            <div class="spec-item">Ctx-Menu</div>
        </div>
    </div>

    <div class="slide">
        <div class="tag">06 / USER EXP</div>
        <h1>AMBER<br>UI</h1>
        <p class="desc">独特的琥珀色暗调美学，为长达数小时的编码任务设计。响应式布局适配全移动端，随时随地开启开发。</p>
        <div class="tech-specs">
            <div class="spec-item">Dark Aesthetics</div>
            <div class="spec-item">Responsive</div>
        </div>
    </div>

    <div class="nav-hint">使用方向键 ← → 导航 / 空间解构模式</div>
</div>
<div class="progress-line" id="bar" style="width: 16.6%"></div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
    // --- Three.js 系统: 3D 解构平面 ---
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true, alpha: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    document.getElementById('canvas-ui').appendChild(renderer.domElement);

    // 创建三个代表不同层级的平面
    const layers = new THREE.Group();
    const layerColors = [0xffb000, 0x555555, 0x333333];
    
    for(let i=0; i<3; i++) {
        const geo = new THREE.PlaneGeometry(10, 6, 20, 20);
        const mat = new THREE.MeshBasicMaterial({ 
            color: layerColors[i], wireframe: true, transparent: true, opacity: 0.1 - (i*0.02)
        });
        const plane = new THREE.Mesh(geo, mat);
        plane.position.z = -i * 2;
        plane.rotation.y = -0.5;
        layers.add(plane);
    }
    scene.add(layers);

    // 氛围粒子
    const pGeo = new THREE.BufferGeometry();
    const pPos = new Float32Array(1000 * 3);
    for(let i=0; i<3000; i++) pPos[i] = (Math.random()-0.5) * 20;
    pGeo.setAttribute('position', new THREE.BufferAttribute(pPos, 3));
    const pMat = new THREE.PointsMaterial({ color: 0xffb000, size: 0.01, transparent: true, opacity: 0.4 });
    const particles = new THREE.Points(pGeo, pMat);
    scene.add(particles);

    camera.position.z = 6;

    // --- 交互与切换 ---
    let current = 0;
    const slides = document.querySelectorAll('.slide');
    const bar = document.getElementById('bar');

    function updateSlide(dir) {
        slides[current].classList.remove('active');
        current = (current + dir + slides.length) % slides.length;
        slides[current].classList.add('active');
        
        bar.style.width = ((current + 1) / slides.length * 100) + '%';
        
        // 3D 反馈：旋转角度变化
        targetRotY = -0.5 + (current * 0.2);
        targetZ = 6 - (current * 0.3);
    }

    let targetRotY = -0.5, targetZ = 6;

    window.addEventListener('keydown', (e) => {
        if(e.key === 'ArrowRight') updateSlide(1);
        if(e.key === 'ArrowLeft') updateSlide(-1);
    });

    function animate() {
        requestAnimationFrame(animate);
        
        // 平滑过渡
        layers.rotation.y += (targetRotY - layers.rotation.y) * 0.05;
        camera.position.z += (targetZ - camera.position.z) * 0.05;
        
        // 自动微动
        layers.position.y = Math.sin(Date.now() * 0.001) * 0.1;
        particles.rotation.y += 0.001;

        renderer.render(scene, camera);
    }
    animate();

    window.addEventListener('resize', () => {
        camera.aspect = window.innerWidth/window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    });
</script>
</body>
</html>